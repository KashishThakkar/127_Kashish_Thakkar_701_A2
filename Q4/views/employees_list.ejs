<!DOCTYPE html>
<html><head><meta charset="utf-8"/><title>Employees</title>
<link rel="stylesheet" href="/public/style.css"/></head>
<body>
  <h2>Employees</h2>
  <p><a class="btn" href="/employees/new">Add Employee</a> <a class="btn" href="/logout">Logout</a></p>
  <table>
    <tr>
      <th>EmpID</th>
      <th>Name</th>
      <th>Email</th>
      <th>Designation</th>
      <th>Base</th>
      <th>hra[%]</th>
      <th>Bonus[%]</th>
      <th>Total Salary</th>
      <th>Actions</th></tr>
    <% list.forEach(e => { 
       const salary = calcSalary(e.baseSalary, e.hra, e.bonus); %>
    <tr>
      <td><%= e.empid %></td>
      <td><%= e.name %></td>
      <td><%= e.email %></td>
      <td><%= e.designation %></td>
      <td><%= salary.base.toFixed(2) %></td>
      <td><%= e.hra %></td>
      <td><%= e.bonus %></td>
      <td><%= salary.total.toFixed(2) %></td>
        <td>
          <a class="btn" href="/employees/<%= e._id %>/edit">Edit</a>
          <form method="post" action="/employees/<%= e._id %>/delete" style="display:inline">
            <button onclick="return confirm('Delete employee?')">Delete</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </table>
</body></html>
